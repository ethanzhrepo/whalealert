# å¿«é€Ÿå¼€å§‹æŒ‡å—

## ä¸€é”®å®‰è£…å’Œé…ç½®

### 1. è¿è¡Œå®‰è£…è„šæœ¬

```bash
cd telegramstream
./setup.sh
```

å®‰è£…è„šæœ¬ä¼šï¼š
- âœ… æ£€æŸ¥ conda æ˜¯å¦å®‰è£…
- âœ… åˆ›å»ºåä¸º `telegram` çš„ conda ç¯å¢ƒï¼ˆPython 3.9ï¼‰
- âœ… å®‰è£…æ‰€æœ‰å¿…éœ€çš„ä¾èµ–åŒ…
- âœ… å¼•å¯¼æ‚¨é…ç½® Telegram API ä¿¡æ¯

### 2. é…ç½®ç›‘æ§ç¾¤ç»„/é¢‘é“

```bash
./run.sh config
```

ç¨‹åºä¼šæ˜¾ç¤ºäº¤äº’ç•Œé¢ï¼Œè®©æ‚¨ï¼š
- æŸ¥çœ‹æ‰€æœ‰å·²åŠ å…¥çš„ç¾¤ç»„å’Œé¢‘é“
- **å·²é…ç½®çš„ç¾¤ç»„/é¢‘é“ä¼šè‡ªåŠ¨æ˜¾ç¤ºä¸ºé€‰ä¸­çŠ¶æ€**
- ä½¿ç”¨ â†‘â†“ é”®é€‰æ‹©ï¼Œç©ºæ ¼é”®å‹¾é€‰/å–æ¶ˆ
- æ ‡é¢˜æ å®æ—¶æ˜¾ç¤ºå·²é€‰æ‹©çš„æ•°é‡
- ä½¿ç”¨ Tab é”®åœ¨åˆ—è¡¨å’ŒæŒ‰é’®ä¹‹é—´åˆ‡æ¢ç„¦ç‚¹
- æŒ‰ **F8** é”®å¿«é€Ÿä¿å­˜å¹¶é€€å‡º
- æŒ‰ **ESC** é”®é€€å‡ºï¼ˆæŒ‰ä¸¤æ¬¡ç¡®è®¤ï¼‰
- ä¿å­˜é€‰æ‹©çš„ç›‘æ§é…ç½®

### å¿«æ·é”®è¯´æ˜

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| â†‘â†“ | åœ¨åˆ—è¡¨ä¸­ç§»åŠ¨ |
| ç©ºæ ¼ | é€‰æ‹©/å–æ¶ˆé€‰æ‹©å½“å‰é¡¹ |
| Tab | å‘å‰åˆ‡æ¢ç„¦ç‚¹ï¼ˆåˆ—è¡¨ â†’ ä¿å­˜æŒ‰é’® â†’ å–æ¶ˆæŒ‰é’®ï¼‰ |
| Shift+Tab | å‘ååˆ‡æ¢ç„¦ç‚¹ |
| F8 | ä¿å­˜é…ç½®å¹¶é€€å‡º |
| ESC | é€€å‡ºï¼ˆæŒ‰ä¸¤æ¬¡ç¡®è®¤ï¼‰ |
| Ctrl+C | å¼ºåˆ¶é€€å‡º |

### 3. å¯åŠ¨ç›‘æ§

```bash
./run.sh start
```

ç¨‹åºå¼€å§‹å®æ—¶ç›‘æ§é…ç½®çš„ç¾¤ç»„å’Œé¢‘é“ï¼Œè¾“å‡º JSON æ ¼å¼çš„æ¶ˆæ¯æ•°æ®ã€‚

## è·å– Telegram API å‡­æ®

1. è®¿é—® [https://my.telegram.org](https://my.telegram.org)
2. ä½¿ç”¨æ‰‹æœºå·ç™»å½•
3. ç‚¹å‡» "API development tools"
4. åˆ›å»ºæ–°åº”ç”¨ï¼Œå¡«å†™ï¼š
   - App title: `Telegram Monitor`
   - Short name: `telegram_monitor`
   - Platform: `Desktop`
5. è®°å½•æ˜¾ç¤ºçš„ `api_id` å’Œ `api_hash`

## é…ç½® NATS æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¯é€‰ï¼‰

ç¼–è¾‘ `config.yml` æ–‡ä»¶ï¼š

```yaml
nats:
  enabled: true
  servers: 
    - 'nats://localhost:4222'
  subject: 'telegram.messages'
```

## å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹å¸®åŠ©
./run.sh help

# é‡æ–°é…ç½®ç›‘æ§ç¾¤ç»„
./run.sh config

# å¯åŠ¨ç›‘æ§
./run.sh start

# æ¿€æ´» conda ç¯å¢ƒï¼ˆæ‰‹åŠ¨æ“ä½œï¼‰
conda activate telegram
```

## æ•…éšœæ’é™¤

### 1. conda å‘½ä»¤æœªæ‰¾åˆ°
å®‰è£… Anaconda æˆ– Minicondaï¼š
- [Anaconda](https://www.anaconda.com/products/distribution)
- [Miniconda](https://docs.conda.io/en/latest/miniconda.html)

### 2. Telegram ç™»å½•å¤±è´¥
- ç¡®è®¤ API ID å’Œ API Hash æ­£ç¡®
- ç¡®è®¤æ‰‹æœºå·æ ¼å¼åŒ…å«å›½å®¶ä»£ç ï¼ˆå¦‚ +8613812345678ï¼‰
- æ£€æŸ¥ç½‘ç»œè¿æ¥

### 3. æ‰¾ä¸åˆ°ç¾¤ç»„/é¢‘é“
- ç¡®è®¤å·²åŠ å…¥è¦ç›‘æ§çš„ç¾¤ç»„/é¢‘é“
- æŸäº›ç§æœ‰ç¾¤ç»„å¯èƒ½æ— æ³•é€šè¿‡ API è®¿é—®

### 4. æ¶ˆæ¯æ¥æ”¶å»¶è¿Ÿ
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç›‘æ§å¤§é‡æ´»è·ƒç¾¤ç»„æ—¶ä¼šæœ‰ API é™åˆ¶
- è€ƒè™‘å‡å°‘ç›‘æ§çš„ç¾¤ç»„æ•°é‡

## è¾“å‡ºç¤ºä¾‹

```json
{
  "type": "telegram.message",
  "timestamp": 1734567890123,
  "source": "telegram",
  "data": {
    "message_id": 12345,
    "chat_title": "Crypto Signals",
    "text": "ğŸš€ WETH/USDC showing bullish momentum!",
    "extracted_data": {
      "symbols": ["WETH", "USDC"],
      "sentiment": "positive",
      "keywords": ["bullish", "momentum"]
    }
  }
}
```

## è¿›ä¸€æ­¥é˜…è¯»

- [å®Œæ•´æ–‡æ¡£](README.md)
- [æ¶ˆæ¯ç»“æ„è¯´æ˜](message.md)
- [é…ç½®æ–‡ä»¶ç¤ºä¾‹](config.yml.example) 